---
title: DRF最佳实践及源码解读(三)--路由
date: 2020-04-18 14:39:36
categories:
- [Python, Web]
tags:
    - Django
    - Python
    - Restful
---

{% img /images/djangorestframework.png    '"DRF框架"' %}

<!-- more -->

## Django原始路由配置

{% codeblock lang:python %}
from django.conf.urls import url

urlpatterns = [
    url(r'^(?P<version>v[12])/view/$', views.MyView.as_view()),
    url(r'^(?P<version>v[12])/view2/$', views.MyViewSet.as_view({'get': 'list', 'post': 'create'})),
    url(r'^(?P<version>v[12])/view2/(?P<pk>\d+)/$', views.MyViewSet.as_view({'get': 'retrieve'})),
]
{% endcodeblock %}

## DRF视图集自动路由

{% codeblock lang:python %}

router = routers.DefaultRouter()
router.register('users', UserViewSet, 'user')
router.register('accounts', AccountViewSet, 'account')

# 注册方式一

urlpatterns = [
    ...,
    url(r'^(?P<version>v[12])/', include(router.urls)),
]

# 注册方式二

urlpatterns += router.urls

{% endcodeblock %}